#include<GL/glut.h>
#include<iostream>
#include<cmath>

using namespace std;

float points[4][2]={{-0.5,-0.5},{0.5,-0.5},{0.5,0.5},{-0.5,0.5}};

void scale(float sx, float sy){
    for(int i =0;i<4;i++){
        points[i][0]*=sx;
        points[i][1]*=sy;
    }
}
void rotate(float angle){
float radians = angle*(3.14/180);
    for(int i =0;i<4;i++){
        points[i][0]=points[i][0]*cos(radians)-points[i][1]*sin(radians);
        points[i][1]=points[i][0]*sin(radians)+points[i][1]*cos(radians);
    }
}

void reflect(char axis){
    if(axis=='x'){
        for(int i=0;i<4;i++){
            points[i][1]*=-1;
        }
    }
    else if(axis=='y'){
        for(int i =0;i<4;i++){
            points[i][0]*=-1;
        }
    }
}
void shear(float sfx,float sfy){
    for(int i=0;i<4;i++){
        points[i][0]=points[i][0]+sfx*points[i][1];
        points[i][1]=points[i][1]+sfy*points[i][0];
    }
}
void translate(float tx,float ty){
    for(int i =0;i<4;i++){
        points[i][0]+=tx;
        points[i][1]+=ty;
    }
}
void display(){
glClear(GL_COLOR_BUFFER_BIT);
glColor3f(1.0,1.0,1.0);
glBegin(GL_POLYGON);
for(int i =0;i<4;i++){
    glVertex2fv(points[i]);
}
glEnd();
glFlush();

}
void init(){
glClearColor(0.0,0.0,0.0,1.0);
}

void menu(int option){
float sx,sy,angle,sfx,sfy,tx,ty;
char axis;

switch(option){
case 1:
    cout<<"Enter Scaling factors(x and y)";
    cin>>sx>>sy;
    scale(sx,sy);
    break;

case 2:
    cout<<"Enter rotating angle";
    cin>>angle;
    rotate(angle);
    break;

case 3:
    cout<<"Enter rotration axis";
    cin>>axis;
    reflect(axis);
    break;

case 4:
    cout<<"eNTER SHEARING FACTORS";
    cin>>sfx>>sfy;
    shear(sfx,sfy);
    break;

case 5:
    cout<<"Enter translating points";
    cin>>tx>>ty;
    translate(tx,ty);
    break;

case 6:
    cout<<"Exiting";
    exit(0);

}
glutPostRedisplay();
}

int main(int argc, char **argv)
{
    glutInit(&argc, argv);
    glutInitWindowSize(1000,1000);
    glutInitWindowPosition(10,10);
    glutInitDisplayMode(GLUT_RGB | GLUT_SINGLE);
    glutCreateWindow("2D TRANSFORMATIONS");
    glutCreateMenu(menu);
    glutAddMenuEntry("scale",1);
    glutAddMenuEntry("rotate",2);
    glutAddMenuEntry("reflect",3);
    glutAddMenuEntry("shear",4);
    glutAddMenuEntry("translate",5);
    glutAddMenuEntry("exit",6);
    glutAttachMenu(GLUT_RIGHT_BUTTON);

    glutDisplayFunc(display);
    init();
    glutMainLoop();

    return 0;


}






























